{"ast":null,"code":"import _objectSpread from\"/home/spurser/django-website-react/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import AxiosInstance from'../../axiosinstance';import'./contact.css';// State initialisation: formData holds the data entered by the user in the below fields. setFormData updates the fields with the user's input\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ContactPage(){const[formData,setFormData]=useState({name:'',// The value in the useState here is the initial value. It is blank here as the user has not yet submitted their info.\nemail:'',subject:'',message:''});// Boolean state, tracks whether the form was submitted or not. Initially set to false, meaning that the form has not been submitted\nconst[submitted,setSubmitted]=useState(false);// Triggered when user types into field. The e.target refers to the input field that was changed.\n// name is the name of the form field (e.g., \"name\", \"email\", \"subject\", etc.), and value is the new value entered by the user.\n// The setFormData updates the formData state to reflect the new value of the field that was changed. This is done by spreading \n// the existing formData and updating the specific field based on its name.\nconst handleChange=event=>{// event represents all of the actions taken by the user\nconst{name,value}=event.target;// event.target refers to the DOM element (html) that triggered the \n// event i.e. the form field completed by user. the event.target is deconstructed to name of field, and value inputted.\nsetFormData(_objectSpread(_objectSpread({},formData),{},{[name]:value}));};// Called when user clicks submit\n// e.preventDefault() is used to prevent the default form submission behavior, so the page doesn’t reload.\n// Sends to bakcned via axios\n// formData is the data that the user has entered in the form, and it’s sent as the body of the POST request\nconst handleSubmit=async e=>{e.preventDefault();try{const response=await AxiosInstance.post('/contact/',formData,{headers:{// 'object': 'formobject',\n'Content-Type':'application/json'}});// Waits for response from axios\n// If the response status is 201 (created, meaning the email was successfully sent and saved), the form fields are reset using setFormData (all fields are cleared)\n// After resetting the form, setSubmitted(true) sets the submitted state to true, which will display the \"Thank you\" message.\n// If the request fails, it logs the error to the console.\nif(response.status===201){// Reset the form immediately after the successful submission\nsetFormData({name:'',email:'',subject:'',message:''});setSubmitted(true);}else{console.error('Failed to send message:',response);}}catch(error){console.error('Error:',error);}};// handleReset is called when the user clicks the \"Submit Another Message\" button after the form is successfully submitted.\n// This function resets the form data back to its initial empty values and also sets submitted back to false so the form will be shown again (not the \"Thank you\" message).\nconst handleReset=()=>{// Reset form data and submitted state if they want to submit another message\nsetFormData({name:'',email:'',subject:'',message:''});setSubmitted(false);};// The button is hooked to handleReset, which clears the form and allows the user to send a new message.\nif(submitted){return/*#__PURE__*/_jsxs(\"div\",{className:\"thank-you\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Thank you for contacting me\"}),/*#__PURE__*/_jsx(\"p\",{children:\"I have received your message and will get back to you shortly.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleReset,children:\"Submit another message\"})]});}// If submitted is false, this renders the contact form.\n// value={formData.name} binds the form fields to the corresponding values in formData.\n// onChange={handleChange} ensures that when a user types in the field, formData gets updated.\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"contact-page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Contact me\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"contact-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:formData.name,onChange:handleChange,placeholder:\"Your Name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleChange,placeholder:\"Your Email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"subject\",children:\"Subject:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"subject\",name:\"subject\",value:formData.subject,onChange:handleChange,placeholder:\"Subject\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",children:\"Message:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"message\",name:\"message\",value:formData.message,onChange:handleChange,placeholder:\"Your Message\",rows:\"5\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send Message\"})]})]});}export default ContactPage;// Overall:\n// The forms is initiliased with blank fields\n// The user enters their data into the form fields.\n// When the form is submitted, the setFormData is updated with the values from the formData\n// The data is sent to the backend (Django) via axios.\n// If the form is successfully submitted (i.e., the response status is 201), the form is cleared, and the \"Thank you\" message is displayed.\n// The user can click \"Submit Another Message\" to reset the form to its initial empty state, and they can send another message.","map":{"version":3,"names":["React","useState","AxiosInstance","jsx","_jsx","jsxs","_jsxs","ContactPage","formData","setFormData","name","email","subject","message","submitted","setSubmitted","handleChange","event","value","target","_objectSpread","handleSubmit","e","preventDefault","response","post","headers","status","console","error","handleReset","className","children","onClick","onSubmit","htmlFor","type","id","onChange","placeholder","required","rows"],"sources":["/home/spurser/django-website-react/frontend/src/components/contact/contact.js"],"sourcesContent":["import React, { useState } from 'react';\nimport AxiosInstance from '../../axiosinstance'; \nimport './contact.css';\n\n// State initialisation: formData holds the data entered by the user in the below fields. setFormData updates the fields with the user's input\nfunction ContactPage() {\n    const [formData, setFormData] = useState({\n        name: '', // The value in the useState here is the initial value. It is blank here as the user has not yet submitted their info.\n        email: '',\n        subject: '',\n        message: '',\n    });\n\n    // Boolean state, tracks whether the form was submitted or not. Initially set to false, meaning that the form has not been submitted\n    const [submitted, setSubmitted] = useState(false);\n    \n    // Triggered when user types into field. The e.target refers to the input field that was changed.\n    // name is the name of the form field (e.g., \"name\", \"email\", \"subject\", etc.), and value is the new value entered by the user.\n    // The setFormData updates the formData state to reflect the new value of the field that was changed. This is done by spreading \n    // the existing formData and updating the specific field based on its name.\n    const handleChange = (event) => { // event represents all of the actions taken by the user\n        const { name, value } = event.target;   // event.target refers to the DOM element (html) that triggered the \n        // event i.e. the form field completed by user. the event.target is deconstructed to name of field, and value inputted.\n        setFormData({\n            ...formData,\n            [name]: value,\n        });\n    };\n\n    // Called when user clicks submit\n    // e.preventDefault() is used to prevent the default form submission behavior, so the page doesn’t reload.\n    // Sends to bakcned via axios\n    // formData is the data that the user has entered in the form, and it’s sent as the body of the POST request\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            const response = await AxiosInstance.post('/contact/', formData, {\n                headers: {\n                    // 'object': 'formobject',\n                    'Content-Type': 'application/json',\n                },\n            });\n            \n            // Waits for response from axios\n            // If the response status is 201 (created, meaning the email was successfully sent and saved), the form fields are reset using setFormData (all fields are cleared)\n            // After resetting the form, setSubmitted(true) sets the submitted state to true, which will display the \"Thank you\" message.\n            // If the request fails, it logs the error to the console.\n            if (response.status === 201) {\n                // Reset the form immediately after the successful submission\n                setFormData({\n                    name: '',\n                    email: '',\n                    subject: '',\n                    message: '',\n                });\n                setSubmitted(true);\n            } else {\n                console.error('Failed to send message:', response);\n            }\n        } catch (error) {\n            console.error('Error:', error);\n        }\n    };\n\n    // handleReset is called when the user clicks the \"Submit Another Message\" button after the form is successfully submitted.\n    // This function resets the form data back to its initial empty values and also sets submitted back to false so the form will be shown again (not the \"Thank you\" message).\n    const handleReset = () => {\n        // Reset form data and submitted state if they want to submit another message\n        setFormData({\n            name: '',\n            email: '',\n            subject: '',\n            message: '',\n        });\n        setSubmitted(false);\n    };\n\n    // The button is hooked to handleReset, which clears the form and allows the user to send a new message.\n    if (submitted) {\n        return (\n            <div className=\"thank-you\">\n                <h2>Thank you for contacting me</h2>\n                <p>I have received your message and will get back to you shortly.</p>\n                <button onClick={handleReset}>Submit another message</button>\n            </div>\n        );\n    }\n\n    // If submitted is false, this renders the contact form.\n    // value={formData.name} binds the form fields to the corresponding values in formData.\n    // onChange={handleChange} ensures that when a user types in the field, formData gets updated.\n    return (\n        <div className=\"contact-page\">\n            <h1>Contact me</h1>\n            <form onSubmit={handleSubmit} className=\"contact-form\">\n                <div className=\"form-group\">\n                    <label htmlFor=\"name\">Name:</label>\n                    <input\n                        type=\"text\"\n                        id=\"name\"\n                        name=\"name\"\n                        value={formData.name}\n                        onChange={handleChange}\n                        placeholder=\"Your Name\"\n                        required\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"email\">Email:</label>\n                    <input\n                        type=\"email\"\n                        id=\"email\"\n                        name=\"email\"\n                        value={formData.email}\n                        onChange={handleChange}\n                        placeholder=\"Your Email\"\n                        required\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"subject\">Subject:</label>\n                    <input\n                        type=\"text\"\n                        id=\"subject\"\n                        name=\"subject\"\n                        value={formData.subject}\n                        onChange={handleChange}\n                        placeholder=\"Subject\"\n                        required\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"message\">Message:</label>\n                    <textarea\n                        id=\"message\"\n                        name=\"message\"\n                        value={formData.message}\n                        onChange={handleChange}\n                        placeholder=\"Your Message\"\n                        rows=\"5\"\n                        required\n                    />\n                </div>\n                <button type=\"submit\">Send Message</button>\n            </form>\n        </div>\n    );\n}\n\nexport default ContactPage;\n// Overall:\n// The forms is initiliased with blank fields\n// The user enters their data into the form fields.\n// When the form is submitted, the setFormData is updated with the values from the formData\n// The data is sent to the backend (Django) via axios.\n// If the form is successfully submitted (i.e., the response status is 201), the form is cleared, and the \"Thank you\" message is displayed.\n// The user can click \"Submit Another Message\" to reset the form to its initial empty state, and they can send another message."],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}